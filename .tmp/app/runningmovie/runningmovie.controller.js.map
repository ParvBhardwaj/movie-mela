{"version":3,"sources":["app/runningmovie/runningmovie.controller.js"],"names":["RunningmovieComponent","$http","$scope","socket","$routeParams","$rootScope","selectedmovie","selectedimdbID","imdbID","selectedmapping","$on","unsyncUpdates","get","then","response","data","syncUpdates","d","run2book","date","console","log","r","t","time","movie","city","cine","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAY;AAAA,MAELA,qBAFK;AAGT,mCAAYC,KAAZ,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmCC,YAAnC,EAAiDC,UAAjD,EAA6D;AAAA;;AAE3D,WAAKJ,KAAL,GAAaA,KAAb;AACA,WAAKE,MAAL,GAAcA,MAAd;AACA,WAAKC,YAAL,GAAoBA,YAApB;AACA,WAAKC,UAAL,GAAkBA,UAAlB;;AAEA,WAAKC,aAAL,GAAqB,EAArB;AACA,WAAKC,cAAL,GAAsBH,aAAaI,MAAnC;AACA,WAAKC,eAAL,GAAuB,EAAvB;;AAIAP,aAAOQ,GAAP,CAAW,UAAX,EAAuB,YAAY;AACjCP,eAAOQ,aAAP,CAAqB,cAArB;AACD,OAFD;AAKD,KArBQ,CAqBP;;;AArBO;AAAA;AAAA,gCAsBC;AAAA;;AACR,aAAKV,KAAL,CAAWW,GAAX,CAAe,oBAAf,EAAqCC,IAArC,CAA0C,oBAAY;AACpD,gBAAKJ,eAAL,GAAuBK,SAASC,IAAhC;AACA,gBAAKZ,MAAL,CAAYa,WAAZ,CAAwB,cAAxB,EAAwC,MAAKP,eAA7C;AACA;AACD,SAJD;;AAMA,aAAKR,KAAL,CAAWW,GAAX,CAAe,sBAAsB,KAAKL,cAA1C,EAA0DM,IAA1D,CAA+D,oBAAY;AACzE,gBAAKP,aAAL,GAAqBQ,SAASC,IAA9B;AACA,gBAAKZ,MAAL,CAAYa,WAAZ,CAAwB,cAAxB,EAAwC,MAAKV,aAA7C;AACD,SAHD;AAID;AAjCQ;AAAA;AAAA,gCAkCCW,CAlCD,EAkCI;AACX,aAAKZ,UAAL,CAAgBa,QAAhB,GAA2B,EAA3B;AACA,aAAKb,UAAL,CAAgBa,QAAhB,CAAyBC,IAAzB,GAAgCF,CAAhC;AACAG,gBAAQC,GAAR,CAAY,KAAKhB,UAAL,CAAgBa,QAA5B;AACA;AACD;AAvCQ;AAAA;AAAA,gCAyCCI,CAzCD,EAyCIC,CAzCJ,EAyCO;AACd,aAAKlB,UAAL,CAAgBa,QAAhB,CAAyBM,IAAzB,GAAgCD,CAAhC;AACA,aAAKlB,UAAL,CAAgBa,QAAhB,CAAyBO,KAAzB,GAAiCH,EAAEG,KAAnC;AACA,aAAKpB,UAAL,CAAgBa,QAAhB,CAAyBQ,IAAzB,GAAgCJ,EAAEI,IAAlC;AACA,aAAKrB,UAAL,CAAgBa,QAAhB,CAAyBS,IAAzB,GAAgCL,EAAEK,IAAlC;AACAP,gBAAQC,GAAR,CAAY,KAAKhB,UAAL,CAAgBa,QAA5B;AACA;AACD;AAhDQ;;AAAA;AAAA,OAkDV;;AAEDU,UAAQC,MAAR,CAAe,cAAf,EACGC,SADH,CACa,cADb,EAC6B;AACzBC,iBAAa,oCADY;AAEzBC,gBAAYhC,qBAFa;AAGzBiC,kBAAc;AAHW,GAD7B;AAOD,CA3DD","file":"runningmovie.controller.js","sourcesContent":["'use strict';\r\n\r\n(function () {\r\n\r\n  class RunningmovieComponent {\r\n    constructor($http, $scope, socket, $routeParams, $rootScope) {\r\n\r\n      this.$http = $http;\r\n      this.socket = socket;\r\n      this.$routeParams = $routeParams;\r\n      this.$rootScope = $rootScope;\r\n\r\n      this.selectedmovie = [];\r\n      this.selectedimdbID = $routeParams.imdbID;\r\n      this.selectedmapping = [];\r\n\r\n\r\n\r\n      $scope.$on('$destroy', function () {\r\n        socket.unsyncUpdates('runningmovie');\r\n      });\r\n\r\n\r\n    } //end constructor\r\n    $onInit() {\r\n      this.$http.get('/api/moviemappings').then(response => {\r\n        this.selectedmapping = response.data;\r\n        this.socket.syncUpdates('runningmovie', this.selectedmapping);\r\n        // alert(this.selectedmapping);\r\n      });\r\n\r\n      this.$http.get('/api/movies/imdb/' + this.selectedimdbID).then(response => {\r\n        this.selectedmovie = response.data;\r\n        this.socket.syncUpdates('runningmovie', this.selectedmovie);\r\n      });\r\n    }\r\n    storeDate(d) {\r\n      this.$rootScope.run2book = {};\r\n      this.$rootScope.run2book.date = d;\r\n      console.log(this.$rootScope.run2book);\r\n      //store d in date\r\n    }\r\n\r\n    storeData(r, t) {\r\n      this.$rootScope.run2book.time = t;\r\n      this.$rootScope.run2book.movie = r.movie;\r\n      this.$rootScope.run2book.city = r.city;\r\n      this.$rootScope.run2book.cine = r.cine;\r\n      console.log(this.$rootScope.run2book);\r\n      debugger;\r\n    }\r\n\r\n  }//end class\r\n\r\n  angular.module('movieMelaApp')\r\n    .component('runningmovie', {\r\n      templateUrl: 'app/runningmovie/runningmovie.html',\r\n      controller: RunningmovieComponent,\r\n      controllerAs: 'runningmovieCtrl'\r\n    });\r\n\r\n})();\r\n"]}