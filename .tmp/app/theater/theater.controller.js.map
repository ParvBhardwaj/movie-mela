{"version":3,"sources":["app/theater/theater.controller.js"],"names":["TheaterComponent","$http","$scope","socket","theaterData","alltheaterData","$on","unsyncUpdates","alert","console","log","post","angular","toJson","Cine","City","get","then","response","data","syncUpdates","thing","delete","_id","copy","JSON","stringify","put","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAY;AAAA,MAELA,gBAFK;AAGT,8BAAYC,KAAZ,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC;AAAA;;AACjC,WAAKF,KAAL,GAAaA,KAAb;AACA,WAAKE,MAAL,GAAcA,MAAd;AACA,WAAKC,WAAL,GAAmB,EAAnB;AACA,WAAKC,cAAL,GAAsB,EAAtB;;AAEAH,aAAOI,GAAP,CAAW,UAAX,EAAuB,YAAY;AACjCH,eAAOI,aAAP,CAAqB,SAArB;AACD,OAFD;AAGD;;AAZQ;AAAA;AAAA,mCAcI;AACXC,cAAM,QAAN;AACAC,gBAAQC,GAAR,CAAY,KAAKN,WAAjB;;AAEA,aAAKH,KAAL,CAAWU,IAAX,CAAgB,eAAhB,EACEC,QAAQC,MAAR,CAAe,KAAKT,WAApB,CADF;AAGAK,gBAAQC,GAAR,CAAY,KAAKN,WAAjB;AACA,aAAKU,IAAL,GAAY,EAAZ;AACA,aAAKC,IAAL,GAAY,EAAZ;AAED;AAzBQ;AAAA;AAAA,gCA2BC;AAAA;;AACR,aAAKd,KAAL,CAAWe,GAAX,CAAe,eAAf,EAAgCC,IAAhC,CAAqC,oBAAY;AAC/C,gBAAKZ,cAAL,GAAsBa,SAASC,IAA/B;AACA,gBAAKhB,MAAL,CAAYiB,WAAZ,CAAwB,UAAxB,EAAoC,MAAKf,cAAzC;AACD,SAHD;AAID;AAhCQ;AAAA;AAAA,kCAkCGgB,KAlCH,EAkCU;AACjBZ,gBAAQC,GAAR,CAAY,qBAAqBW,KAAjC;AACA,aAAKpB,KAAL,CAAWqB,MAAX,CAAkB,mBAAmBD,MAAME,GAA3C;AACD;AArCQ;AAAA;AAAA,gCAsCCF,KAtCD,EAsCQ;AACfT,gBAAQY,IAAR,CAAaH,KAAb,EAAoB,KAAKjB,WAAzB;AAED;AAzCQ;AAAA;AAAA,oCA0CKiB,KA1CL,EA0CY;AACnBb,cAAM,mBAAmBiB,KAAKC,SAAL,CAAeL,KAAf,CAAzB;;AAEA,aAAKpB,KAAL,CAAW0B,GAAX,CAAe,mBAAmBN,MAAME,GAAxC,EAA6C;AAC3CT,gBAAMO,MAAMP,IAD+B;AAE3CC,gBAAMM,MAAMN;AAF+B,SAA7C;AAID;AAjDQ;;AAAA;AAAA,OAmDV;;AAEDH,UAAQgB,MAAR,CAAe,cAAf,EACGC,SADH,CACa,SADb,EACwB;AACpBC,iBAAa,0BADO;AAEpBC,gBAAY/B,gBAFQ;AAGpBgC,kBAAc;AAHM,GADxB;AAOD,CA5DD","file":"theater.controller.js","sourcesContent":["'use strict';\r\n\r\n(function () {\r\n\r\n  class TheaterComponent {\r\n    constructor($http, $scope, socket) {\r\n      this.$http = $http;\r\n      this.socket = socket;\r\n      this.theaterData = {};\r\n      this.alltheaterData = {};\r\n\r\n      $scope.$on('$destroy', function () {\r\n        socket.unsyncUpdates('theater');\r\n      });\r\n    }\r\n\r\n    AddTheater() {\r\n      alert(\"hogyaa\");\r\n      console.log(this.theaterData);\r\n\r\n      this.$http.post('/api/theaters',\r\n        angular.toJson(this.theaterData)\r\n      );\r\n      console.log(this.theaterData);\r\n      this.Cine = '';\r\n      this.City = '';\r\n\r\n    }\r\n\r\n    $onInit() {\r\n      this.$http.get('/api/theaters').then(response => {\r\n        this.alltheaterData = response.data;\r\n        this.socket.syncUpdates('theaters', this.alltheaterData);\r\n      });\r\n    }\r\n\r\n    deleteThing(thing) {\r\n      console.log(\"deleting theater\" + thing);\r\n      this.$http.delete('/api/theaters/' + thing._id);\r\n    }\r\n    editThing(thing) {\r\n      angular.copy(thing, this.theaterData);\r\n\r\n    }\r\n    updateTheater(thing) {\r\n      alert(\"update theater\" + JSON.stringify(thing));\r\n\r\n      this.$http.put('/api/theaters/' + thing._id, {\r\n        Cine: thing.Cine,\r\n        City: thing.City\r\n      });\r\n    }\r\n\r\n  }//end class TheaterComponent\r\n\r\n  angular.module('movieMelaApp')\r\n    .component('theater', {\r\n      templateUrl: 'app/theater/theater.html',\r\n      controller: TheaterComponent,\r\n      controllerAs: 'theaterCtrl'\r\n    });\r\n\r\n})();\r\n"]}