{"version":3,"sources":["app/payment/payment.controller.js"],"names":["PaymentComponent","$http","$scope","socket","$rootScope","bookdt","book2pay","run2book","console","log","payData","$on","unsyncUpdates","total","post","angular","toJson","alert","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAY;AAAA,MAELA,gBAFK;AAGT,8BAAYC,KAAZ,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmCC,UAAnC,EAA+C;AAAA;;AAC7C,WAAKH,KAAL,GAAaA,KAAb;AACA,WAAKE,MAAL,GAAcA,MAAd;AACA,WAAKC,UAAL,GAAkBA,UAAlB;AACA,WAAKC,MAAL,GAAcD,WAAWE,QAAzB;AACA,WAAKC,QAAL,GAAgBH,WAAWG,QAA3B;;AAEAC,cAAQC,GAAR,CAAY,KAAKJ,MAAjB;AACAG,cAAQC,GAAR,CAAY,KAAKF,QAAjB;;AAEA;;AAEA,WAAKG,OAAL,GAAe,EAAf;AACAF,cAAQC,GAAR,CAAY,KAAKJ,MAAjB;;AAEAH,aAAOS,GAAP,CAAW,UAAX,EAAuB,YAAY;AACjCR,eAAOS,aAAP,CAAqB,SAArB;AACD,OAFD;AAGD,KArBQ,CAqBR;;;AArBQ;AAAA;AAAA,+BAwBA;AACP,aAAKF,OAAL,CAAaG,KAAb,GAAqB,KAAKR,MAAL,CAAYQ,KAAjC;AACA;AACA,aAAKZ,KAAL,CAAWa,IAAX,CAAgB,eAAhB,EACEC,QAAQC,MAAR,CAAe,KAAKN,OAApB,CADF;;AAIA,aAAKT,KAAL,CAAWa,IAAX,CAAgB,mBAAhB,EACEC,QAAQC,MAAR,CAAe,KAAKX,MAApB,CADF;;AAIAY,cAAM,mCAAN;AACD;AApCQ;;AAAA;AAAA,OAsCV;;AAEDF,UAAQG,MAAR,CAAe,cAAf,EACGC,SADH,CACa,SADb,EACwB;AACpBC,iBAAa,0BADO;AAEpBC,gBAAYrB,gBAFQ;AAGpBsB,kBAAc;AAHM,GADxB;AAOD,CA/CD","file":"payment.controller.js","sourcesContent":["'use strict';\r\n\r\n(function () {\r\n\r\n  class PaymentComponent {\r\n    constructor($http, $scope, socket, $rootScope) {\r\n      this.$http = $http;\r\n      this.socket = socket;\r\n      this.$rootScope = $rootScope;\r\n      this.bookdt = $rootScope.book2pay;\r\n      this.run2book = $rootScope.run2book;\r\n\r\n      console.log(this.bookdt);\r\n      console.log(this.run2book);\r\n\r\n      //angular.merge(this.book2pay, $rootScope.book2pay);\r\n\r\n      this.payData = {};\r\n      console.log(this.bookdt);\r\n\r\n      $scope.$on('$destroy', function () {\r\n        socket.unsyncUpdates('payment');\r\n      });\r\n    }//end  constructor\r\n\r\n\r\n    payNow() {\r\n      this.payData.total = this.bookdt.total;\r\n      debugger;\r\n      this.$http.post('/api/payments',\r\n        angular.toJson(this.payData)\r\n      );\r\n\r\n      this.$http.post('/api/seatbookings',\r\n        angular.toJson(this.bookdt)\r\n      );\r\n\r\n      alert(\"Successfull Your Payment has done\");\r\n    }\r\n\r\n  }//end class PaymentComponent\r\n\r\n  angular.module('movieMelaApp')\r\n    .component('payment', {\r\n      templateUrl: 'app/payment/payment.html',\r\n      controller: PaymentComponent,\r\n      controllerAs: 'paymentCtrl'\r\n    });\r\n\r\n})();\r\n"]}