{"version":3,"sources":["app/main/main.controller.js"],"names":["MainController","$http","$scope","socket","movieData","allMoviesData","$on","unsyncUpdates","get","then","response","data","syncUpdates","newThing","post","name","thing","delete","_id","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAY;AAAA,MAELA,cAFK;AAIT,4BAAYC,KAAZ,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC;AAAA;;AACjC,WAAKF,KAAL,GAAaA,KAAb;AACA,WAAKE,MAAL,GAAcA,MAAd;AACA,WAAKC,SAAL,GAAiB,EAAjB;AACA,WAAKC,aAAL,GAAqB,EAArB;;AAEAH,aAAOI,GAAP,CAAW,UAAX,EAAuB,YAAY;AACjCH,eAAOI,aAAP,CAAqB,OAArB;AACD,OAFD;AAGD;;AAbQ;AAAA;AAAA,gCAgBC;AAAA;;AACR,aAAKN,KAAL,CAAWO,GAAX,CAAe,aAAf,EAA8BC,IAA9B,CAAmC,oBAAY;AAC7C,gBAAKJ,aAAL,GAAqBK,SAASC,IAA9B;AACA,gBAAKR,MAAL,CAAYS,WAAZ,CAAwB,OAAxB,EAAiC,MAAKP,aAAtC;AACD,SAHD;AAID;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AArCS;AAAA;AAAA,iCAuCE;AACT,YAAI,KAAKQ,QAAT,EAAmB;AACjB,eAAKZ,KAAL,CAAWa,IAAX,CAAgB,aAAhB,EAA+B;AAC7BC,kBAAM,KAAKF;AADkB,WAA/B;AAGA,eAAKA,QAAL,GAAgB,EAAhB;AACD;AACF;AA9CQ;AAAA;AAAA,kCAgDGG,KAhDH,EAgDU;AACjB,aAAKf,KAAL,CAAWgB,MAAX,CAAkB,iBAAiBD,MAAME,GAAzC;AACD;AAlDQ;;AAAA;AAAA;;AAqDXC,UAAQC,MAAR,CAAe,cAAf,EACGC,SADH,CACa,MADb,EACqB;AACjBC,iBAAa,oBADI;AAEjBC,gBAAYvB,cAFK;AAGjBwB,kBAAc;AAHG,GADrB;AAMD,CA3DD","file":"main.controller.js","sourcesContent":["'use strict';\r\n\r\n(function () {\r\n\r\n  class MainController {\r\n\r\n    constructor($http, $scope, socket) {\r\n      this.$http = $http;\r\n      this.socket = socket;\r\n      this.movieData = {};\r\n      this.allMoviesData = [];\r\n\r\n      $scope.$on('$destroy', function () {\r\n        socket.unsyncUpdates('movie');\r\n      });\r\n    }\r\n\r\n\r\n    $onInit() {\r\n      this.$http.get('/api/movies').then(response => {\r\n        this.allMoviesData = response.data;\r\n        this.socket.syncUpdates('movie', this.allMoviesData);\r\n      });\r\n    }\r\n\r\n    // $onInit() {\r\n\r\n    //   this.$http.get('/api/movies').then(response => {\r\n    //     this.allMovies = response.data;\r\n    //     // this.socket.syncUpdates('movies', this.allMovies);\r\n    //     console.log(this.allMovies[0]);\r\n    //     alert(JSON.stringify(this.allMovies[0]));\r\n    //   });\r\n\r\n    //   // $(document).ready(function () {\r\n    //   //   $('#myCarousel').carousel({\r\n    //   //     interval: 3000, cycle: true\r\n    //   //   });\r\n    //   // });\r\n    // }\r\n\r\n    addThing() {\r\n      if (this.newThing) {\r\n        this.$http.post('/api/things', {\r\n          name: this.newThing\r\n        });\r\n        this.newThing = '';\r\n      }\r\n    }\r\n\r\n    deleteThing(thing) {\r\n      this.$http.delete('/api/things/' + thing._id);\r\n    }\r\n  }\r\n\r\n  angular.module('movieMelaApp')\r\n    .component('main', {\r\n      templateUrl: 'app/main/main.html',\r\n      controller: MainController,\r\n      controllerAs: 'mainCtrl'\r\n    });\r\n})();\r\n"]}